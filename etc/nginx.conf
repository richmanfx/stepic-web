
# My include config

server {

  listen 80;

  proxy_set_header	Host	$host;
  proxy_set_header	X-Real-IP	$remote_addr;

  location / {
    proxy_pass http://127.0.0.1:8000;
  }

  location ~* /qa/ {
    proxy_pass http://127.0.0.1:8000;
  }

  location ~* /login/ {
    proxy_pass http://127.0.0.1:8000;
  }

  location ~* /signup/ {
    proxy_pass http://127.0.0.1:8000;
  }

  location ~* /ask/ {
    proxy_pass http://127.0.0.1:8000;
  }

  location ~* popular/ {
    proxy_pass http://127.0.0.1:8000;
  }

  location ~* /new/ {
    proxy_pass http://127.0.0.1:8000;
  }

  location ~* /question/\d+/ {
    proxy_pass http://127.0.0.1:8000;
  }


#    url(r'^', include('qa.urls')),
#    url(r'^question/\d+/', include('qa.urls')),
#    url(r'^question/\d{0,10}/', include('qa.urls')),


######################################

  location ~* /hello/ {
      proxy_pass http://127.0.0.1:8080;
  }

  location ~* ^/uploads/ {
    root /home/box/web;
  }

  location ~* [\w\/]+\.\w+$ {
    root /home/box/web/public;
  }

  location ~* [\w\/]+(?!\.) {
    return 404;
  }

}
